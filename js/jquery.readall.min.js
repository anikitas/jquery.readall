/*
 * jQuery.ReadAll ia a jQuery plugin to shrink large blocks of content and place a read more button below.
 * Created by Anders Fjällström - anders@morriz.net - http://www.morriz.net
 * For documentation see https://github.com/morriznet/jquery.readall
 * Released under MIT license
 * version 1.0
 */

!function (t) { t.fn.readall = function (e) { var s = t.extend({ showheight: 96, showrows: null, animationspeed: 200, button: { textShowmore: "Read more", textShowless: "Read less", classShowmore: "readall-button", classShowless: "readall-button" } }, e); return t(this).each(function () { var e = t(this), o = function () { return e[0].scrollHeight }; if (null != s.showrows) { var a = Math.floor(1.5 * parseFloat(e.css("font-size"))); s.showheight = a * s.showrows } e.addClass("readall").css({ overflow: "hidden" }); var h = function (a) { var h = e.parent().find("button." + s.button.classShowmore + ", button." + s.button.classShowless); o() > s.showheight + t(h).outerHeight() ? t(h).is(":visible") && null != a || (e.css({ height: s.showheight + "px", "max-height": s.showheight + "px" }), t(this).text(s.button.textShowmore), e.addClass("readall-hide"), t(this).addClass(s.button.classShowmore).removeClass(s.button.classShowless), t(h).show()) : (t(h).is(":visible") || null == a) && (e.css({ height: "", "max-height": "" }), e.removeClass("readall-hide"), t(h).hide()) }; if (e.parent().not("readall-wrapper")) { e.wrap(t("<div />").addClass("readall-wrapper")); var l = t("<button />").addClass(s.button.classShowmore).text(s.button.textShowmore).click(function (a) { a.preventDefault(), e.hasClass("readall-hide") ? e.css({ height: s.showheight + "px", "max-height": "" }).animate({ height: o() + "px" }, s.animationspeed, function () { e.css({ height: "" }), t(l).text(s.button.textShowless) }) : e.animate({ height: s.showheight + "px" }, s.animationspeed, function () { e.css({ "max-height": s.showheight + "px" }), t(l).text(s.button.textShowmore) }), e.toggleClass("readall-hide"), t(this).toggleClass(s.button.classShowmore).toggleClass(s.button.classShowless) }); e.after(l), t(window).bind("orientationchange resize", h), h(null) } }), this } }(jQuery);